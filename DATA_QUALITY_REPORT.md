# Data Quality & Integrity Report

## 1. Executive Summary

This report summarizes the state of data quality within the Abaco Loans Analytics Unified Pipeline. The system now enforces strict schema validation, numeric integrity checks, and PII masking across all ingestion paths.

**Current Health Status**: üü¢ GREEN (Active Enforcement)

## 2. Quality Controls & Enforcement

### Phase 1: Ingestion Validation

- **Schema Lock**: Input files are validated against `config/data_schemas/` using Pydantic and Pandera.
- **Checksum Verification**: Every raw input is hashed (SHA-256) to ensure lineage traceability.
- **Null Suppression**: Mandatory columns (e.g., `total_receivable_usd`, `measurement_date`) are checked for nulls at the point of entry.

### Phase 2: Transformation Integrity

- **Outlier Detection**: Z-score analysis is applied to APR, Term, and Balances to identify statistical anomalies.
- **PII Masking**: Automatic keyword-based masking ensures compliance with data privacy standards.
- **Data Normalization**: Uniform naming conventions and unit conversions (e.g., to USD) are applied.

### Phase 3: Calculation Accuracy

- **Engine Parity**: Dual-engine verification ensures Python calculations match SQL view outputs within 0.01% tolerance.
- **Audit Trail**: Every KPI calculation event is logged with actor, action, and timestamp.

## 3. Latest Run Results (Run ID: `run_2466a2d12357`)

| Quality Check | Status | Result |
|---------------|--------|--------|
| Numeric Non-Negative | ‚úÖ PASS | All DPD and balance fields >= 0 |
| ISO-8601 Date Format | ‚úÖ PASS | All measurement dates valid |
| Null Count Check | ‚úÖ PASS | 0 nulls in critical financial fields |
| Schema Consistency | ‚úÖ PASS | 19/19 columns matched Tape Contract |
| Anomaly Detection | ‚úÖ PASS | 0 statistical outliers detected |

## 4. Identified Gaps & Remediation

| Issue | Severity | Status | Remediation |
|-------|----------|--------|-------------|
| Legacy Module Redundancy | Medium | üîÑ In Progress | Migrating legacy `kpi_catalog_processor` to Unified Pipeline. |
| Excel Ingestion Types | Low | ‚úÖ Fixed | Upgraded Pandera to 0.27.1 for NumPy 2.0 compatibility. |
| Collection Rate Zero-Values | High | ‚ö†Ô∏è Warning | Detected 0.0 collection rate in sample data; investigation required to confirm if data issue or business reality. |

## 5. Continuous Monitoring Plan

- **Real-time Alerts**: Critical KPI failures trigger Slack/Teams notifications.
- **Daily Audits**: Manifests are automatically reviewed for "warning" or "critical" status tags.
- **Weekly Parity Tests**: `make test-kpi-parity` ensures code and database remain in sync.

---
*Generated by Abaco Analytics Quality Engine*
*Date: 2026-01-01*
