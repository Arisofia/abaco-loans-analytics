{
    "apiVersion": "2020-02-02",
    "type": "Microsoft.Insights/components",
    "name": "abaco-analytics-insights",
    "location": "eastus",
    "kind": "web",
    "properties": {
        "Application_Type": "web",
        "RetentionInDays": 90,
        "publicNetworkAccessForIngestion": "Enabled",
        "publicNetworkAccessForQuery": "Enabled",
        "IngestionMode": "ApplicationInsights"
    },
    "resources": [
        {
            "type": "providers/diagnosticSettings",
            "apiVersion": "2017-05-01-preview",
            "name": "Microsoft.Insights/service",
            "dependsOn": [
                "[resourceId('Microsoft.Insights/components', 'abaco-analytics-insights')]"
            ],
            "properties": {
                "workspaceId": "/subscriptions/695e4491-d568-4105-a1e1-8f2baf3b54df/resourceGroups/AI-MultiAgent-Ecosystem-RG/providers/microsoft.operationalinsights/workspaces/abaco-logs",
                "metrics": [
                    {
                        "category": "AllMetrics",
                        "enabled": true
                    }
                ],
                "logs": [
                    {
                        "category": "AppServiceConsoleLogs",
                        "enabled": true
                    },
                    {
                        "category": "AppServiceHTTPLogs",
                        "enabled": true
                    }
                ]
            }
        }
    ]
}
